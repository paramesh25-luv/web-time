<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Web Timer / Alarm</title>
<style>
:root {
  --bg: #0f1724;
  --card: #111827;
  --accent: #60a5fa;
  --muted: #9ca3af;
  --glass: rgba(255,255,255,0.03);
  --wedge-bg: #1e293b;
  --wedge-fg: #60a5fa;
  --wedge-shadow: 0 0 16px #60a5fa88;
}
* { box-sizing: border-box; font-family: Inter, ui-sans-serif, system-ui, Segoe UI, Roboto, "Helvetica Neue", Arial }
body {
  margin: 0; min-height: 100vh;
  background: linear-gradient(180deg,#041225 0%, #071a2e 100%);
  color: #e6eef8;
  display: flex; align-items: center; justify-content: center; padding: 24px;
}
.card {
  width: 100%; max-width: 420px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius: 12px; padding: 22px;
  box-shadow: 0 10px 30px rgba(2,6,23,0.6)
}
h1 { margin: 0; font-size: 20px }
p.lead { color: var(--muted); margin: 6px 0 18px }

.controls {
  display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; align-items: end
}
.form-row { background: var(--glass); padding: 12px; border-radius: 8px }
label { display: block; font-size: 12px; color: var(--muted); margin-bottom: 6px }
input[type=number] {
  width: 100%; padding: 8px; border-radius: 6px;
  border: 1px solid rgba(255,255,255,0.04);
  background: transparent; color: inherit
}
.buttons { display: flex; gap: 10px; align-items: center; margin-top: 12px }
button {
  padding: 8px 12px; border-radius: 8px; border: none;
  background: var(--accent); color: #04233a; font-weight: 600; cursor: pointer;
  transition: background 0.2s;
}
button.secondary {
  background: transparent; border: 1px solid rgba(255,255,255,0.06);
  color: var(--muted); font-weight: 600
}
button:disabled { opacity: 0.6; cursor: not-allowed }

.display {
  margin-top: 24px; display: flex; flex-direction: column; align-items: center; gap: 18px;
}
.wedge-timer {
  position: relative; width: 180px; height: 180px;
  display: flex; align-items: center; justify-content: center;
}
svg.wedge {
  width: 180px; height: 180px; display: block;
  filter: drop-shadow(var(--wedge-shadow));
}
.wedge-bg {
  stroke: var(--wedge-bg); stroke-width: 14;
}
.wedge-fg {
  stroke: var(--wedge-fg); stroke-width: 14;
  stroke-linecap: round;
  transition: stroke-dashoffset 1s linear;
}
.time-box {
  position: absolute; left: 0; top: 0; width: 100%; height: 100%;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
}
.time-box .big {
  font-size: 40px; font-weight: 700; letter-spacing: 2px;
  color: var(--accent); text-shadow: 0 2px 8px #0008;
}
.status {
  color: var(--muted); font-size: 13px; margin-top: 6px; min-height: 18px;
  text-align: center;
}
.running .wedge-fg { animation: glow 1.5s infinite alternate; }
@keyframes glow {
  0% { filter: drop-shadow(0 0 8px #60a5fa44); }
  100% { filter: drop-shadow(0 0 24px #60a5fa); }
}
.ended .time-box .big { color: #f87171; }
.ended .status { color: #f87171; font-weight: bold; }
.footer { margin-top: 14px; color: var(--muted); font-size: 13px }
.small { font-size: 12px; color: var(--muted) }
@media(max-width:600px){
  .controls { grid-template-columns: 1fr }
  .wedge-timer, svg.wedge { width: 120px; height: 120px }
}
</style>
</head>
<body>
<main class="card">
  <h1>Web Timer / Alarm</h1>
  <p class="lead">Set a countdown timer (hours/minutes/seconds). When it ends, you'll see a message.</p>

  <div class="controls">
    <div class="form-row">
      <label for="hours">Hours</label>
      <input id="hours" type="number" min="0" max="999" value="0" />
    </div>
    <div class="form-row">
      <label for="minutes">Minutes</label>
      <input id="minutes" type="number" min="0" max="59" value="1" />
    </div>
    <div class="form-row">
      <label for="seconds">Seconds</label>
      <input id="seconds" type="number" min="0" max="59" value="0" />
    </div>
  </div>

  <div class="buttons">
    <button id="startBtn">Start Alarm</button>
    <button id="resetBtn" class="secondary" disabled>Reset</button>
  </div>

  <div class="display" id="display">
    <div class="wedge-timer" id="wedgeTimer">
      <svg class="wedge" viewBox="0 0 100 100">
        <circle class="wedge-bg" cx="50" cy="50" r="44" fill="none"/>
        <circle class="wedge-fg" cx="50" cy="50" r="44" fill="none"
          stroke-dasharray="276.46"
          stroke-dashoffset="0"
        />
      </svg>
      <div class="time-box">
        <span class="big" id="timeLeft">00:01:00</span>
      </div>
    </div>
    <div class="status" id="status"></div>
  </div>

  <div class="footer">
    <span class="small">No sound, no IoT trigger. Just a visual alarm.</span>
  </div>
</main>
<script>
const hoursInput = document.getElementById('hours');
const minutesInput = document.getElementById('minutes');
const secondsInput = document.getElementById('seconds');
const startBtn = document.getElementById('startBtn');
const resetBtn = document.getElementById('resetBtn');
const timeLeftEl = document.getElementById('timeLeft');
const statusEl = document.getElementById('status');
const wedgeFg = document.querySelector('.wedge-fg');
const display = document.getElementById('display');

let timer = null;
let totalSeconds = 0;
let remaining = 0;
const CIRCUM = 2 * Math.PI * 44; // r=44

function pad(n) { return n.toString().padStart(2, '0'); }
function formatTime(sec) {
  const h = Math.floor(sec / 3600);
  const m = Math.floor((sec % 3600) / 60);
  const s = sec % 60;
  return `${pad(h)}:${pad(m)}:${pad(s)}`;
}
function updateWedge() {
  const percent = remaining / totalSeconds;
  wedgeFg.style.strokeDasharray = CIRCUM;
  wedgeFg.style.strokeDashoffset = CIRCUM * (1 - percent);
}
function updateDisplay() {
  timeLeftEl.textContent = formatTime(remaining);
  updateWedge();
}
function setRunning(running) {
  if (running) {
    display.classList.add('running');
    display.classList.remove('ended');
    statusEl.textContent = 'Alarm is running...';
    startBtn.disabled = true;
    resetBtn.disabled = false;
    hoursInput.disabled = true;
    minutesInput.disabled = true;
    secondsInput.disabled = true;
  } else {
    display.classList.remove('running');
    startBtn.disabled = false;
    resetBtn.disabled = true;
    hoursInput.disabled = false;
    minutesInput.disabled = false;
    secondsInput.disabled = false;
  }
}
function setEnded() {
  display.classList.remove('running');
  display.classList.add('ended');
  statusEl.textContent = '‚è∞ Alarm ended!';
  startBtn.disabled = false;
  resetBtn.disabled = true;
  hoursInput.disabled = false;
  minutesInput.disabled = false;
  secondsInput.disabled = false;
}
function startTimer() {
  const h = parseInt(hoursInput.value, 10) || 0;
  const m = parseInt(minutesInput.value, 10) || 0;
  const s = parseInt(secondsInput.value, 10) || 0;
  totalSeconds = h * 3600 + m * 60 + s;
  if (totalSeconds <= 0) {
    statusEl.textContent = 'Please set a time greater than 0.';
    return;
  }
  remaining = totalSeconds;
  updateDisplay();
  setRunning(true);
  timer = setInterval(() => {
    remaining--;
    updateDisplay();
    if (remaining <= 0) {
      clearInterval(timer);
      timer = null;
      remaining = 0;
      updateDisplay();
      setEnded();
    }
  }, 1000);
}
function resetTimer() {
  if (timer) clearInterval(timer);
  timer = null;
  const h = parseInt(hoursInput.value, 10) || 0;
  const m = parseInt(minutesInput.value, 10) || 0;
  const s = parseInt(secondsInput.value, 10) || 0;
  totalSeconds = h * 3600 + m * 60 + s;
  remaining = totalSeconds;
  updateDisplay();
  setRunning(false);
  display.classList.remove('ended');
  statusEl.textContent = '';
}
startBtn.addEventListener('click', startTimer);
resetBtn.addEventListener('click', resetTimer);
[hoursInput, minutesInput, secondsInput].forEach(input => {
  input.addEventListener('input', resetTimer);
});
resetTimer();
</script>
</body>
</html>
